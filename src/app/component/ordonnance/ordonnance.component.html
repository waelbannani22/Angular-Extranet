<!DOCTYPE html>

<!-- =========================================================
* Sneat - Bootstrap 5 HTML Admin Template - Pro | v1.0.0
==============================================================

* Product Page: https://themeselection.com/products/sneat-bootstrap-html-admin-template/
* Created by: ThemeSelection
* License: You must have a valid license purchased in order to legally use the theme for your project.
* Copyright ThemeSelection (https://themeselection.com)

=========================================================
 -->
<!-- beautify ignore:start -->
<html
  lang="en"
  class="light-style layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="/assets/"
  data-template="vertical-menu-template-free"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>
      Without menu - Layouts | Sneat - Bootstrap 5 HTML Admin Template - Pro
    </title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/x-icon"
      href="/assets/img/favicon/favicon.ico"
    />
    <base href="./" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Icons. Uncomment required icon fonts -->
    <link rel="stylesheet" href="/assets/vendor/fonts/boxicons.css" />

    <!-- Core CSS -->
    <link
      rel="stylesheet"
      href="/assets/vendor/css/core.css"
      class="template-customizer-core-css"
    />
    <link
      rel="stylesheet"
      href="/assets/vendor/css/theme-default.css"
      class="template-customizer-theme-css"
    />
    <link rel="stylesheet" href="/assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link
      rel="stylesheet"
      href="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css"
    />

    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="/assets/vendor/js/helpers.js"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="../assets/js/config.js"></script>
  </head>

  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar layout-without-menu">
      <div class="layout-container">
        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          <app-nav-bar></app-nav-bar>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->

            <div class="container-xxl flex-grow-1 container-p-y">
              <!-- Layout Demo -->
              <div id="myDiv">
                <div id="box">
                  <p style="font-size: medium; position: relative">
                    Contractant:
                  </p>
                  <div class="align-items-center">
                    <div data-select2-id="45">
                      <div class="position-relative">
                        <select
                          id="select2Basic"
                          class="select2 form-select form-select-lg select2-hidden-accessible"
                          data-allow-clear="true"
                          data-select2-id="select2Basic"
                          tabindex="-1"
                          aria-hidden="true"
                          [(ngModel)]="numPoilceSearch"
                        >
                        <option value="A70220033" data-select2-id="2">COMPAGNIE TUNISIENNE DE FORAGE "C.T.F"</option>
                        <option value="A70230014" data-select2-id="46">SOQUIBAT</option>
                        <option value="A70230001" data-select2-id="47">
                          BANQUE TUNISIENNE DE SOLIDARITE
                        </option>
                        <option value="A70220011" data-select2-id="46">SERGAZ</option>
                        <option value="A70830047" data-select2-id="46"> BANQUE DE TUNISIE</option>
                        <option value="A70140004" data-select2-id="46"> PFIZER TUNISIE</option>
                        </select>
                      </div>
                    </div>
                    <br />
                    <p style="font-size: medium; position: left">Matricule:</p>
                    <div class="nav-item d-flex align-items-center">
                      <input
                        type="text"
                        class="form-control border-0 shadow-none"
                        placeholder="Search..."
                        aria-label="Search..."
                        [(ngModel)]="matriculeAdherentSearch"
                      />
                    </div>

                    <button
                      id="myButton"
                      type="button"
                      class="btn rounded-pill btn-primary"
                      (click)="recherche()"
                    >
                      Rechercher
                    </button>
                  </div>
                </div>
              </div>

              <!-- User row -->
              <div id="myDiv1" style="display: none">
                <div class="row">
                  <!-- User Sidebar -->
                  <div class="col-xl-4 col-lg-5 col-md-5 order-1 order-md-0">
                    <!-- User Card -->
                    <div class="card mb-4">
                      <div class="card-body">
                        <div class="user-avatar-section">
                          <div class="d-flex align-items-center flex-column">
                            <div *ngIf="sexe=='Féminin'">
                              <img
                              class="img-fluid rounded my-4"
                              src="../../assets/img/avatars/6.png"
                              height="110"
                              width="110"
                              alt="User avatar"
                            />
                            </div>
                            <div *ngIf="sexe=='Masculin'">
                              <img
                              class="img-fluid rounded my-4"
                              src="../../assets/img/avatars/1.png"
                              height="110"
                              width="110"
                              alt="User avatar"
                            />
                            </div>
                            
                            <div class="user-info text-center">
                              <h4 class="mb-2">{{adherent}}</h4>
                              <span class="badge bg-label-secondary"></span>
                            </div>
                          </div>
                        </div>
                        <div
                          class="d-flex justify-content-around flex-wrap my-4 py-3"
                        >
                         
                          <div class="d-flex align-items-start mt-3 gap-3">
                           
                            <div>
                              <button
                              class="btn btn-primary me-3"
                                id="toggleButton"
                               
                                data-bs-toggle="offcanvas"
                                data-bs-target="#offcanvasBoth"
                                >
                                Voir Bénificiaire</button
                              >
                              <div
                                class="offcanvas offcanvas-end"
                                aria-controls="offcanvasBoth"
                                data-bs-scroll="true"
                                tabindex="-1"
                                id="offcanvasBoth"
                                aria-labelledby="offcanvasBothLabel"
                                aria-modal="true"
                                role="dialog"
                              >
                                <div class="offcanvas-header">
                                  <h5
                                    id="offcanvasBothLabel"
                                    class="offcanvas-title"
                                  >
                                    Bénificiaire(s)
                                  </h5>
                                  <button
                                    type="button"
                                    class="btn-close text-reset"
                                    data-bs-dismiss="offcanvas"
                                    aria-label="Close"
                                  ></button>
                                </div>
                                <div
                                  class="offcanvas-body my-auto mx-0 flex-grow-0"
                                >
                                  <div *ngFor="let el of listBenef" class="card mb-4">
                                    <div  class="accordion-item card spacing">
                                      <h2 class="accordion-header">
                                        <button
                                          type="button"
                                          class="accordion-button collapsed"
                                          data-bs-toggle="collapse"
                                          data-bs-target="#accordionStyle1-1"
                                          aria-expanded="false"
                                        >
                                          <strong>{{el.qualite}}-</strong>
                                        </button>
                                      </h2>
    
                                      <div
                                        id="accordionStyle1-1"
                                        class="accordion-collapse collapse"
                                        data-bs-parent="#accordionStyle1"
                                      >
                                        <div class="accordion-body">
                                          <div class="table-responsive text-nowrap">
                                            <table class="table">
                                              <tbody class="table-border-bottom-0">
                                                <tr>
                                                  <td>
                                                    <strong>Nom et prénom:</strong>
                                                  </td>
                                                  <td>{{el.nom}}</td>
                                                </tr>
                                                
                                              </tbody>
                                            </table>
                                          </div>
                                        
                                        </div>
                                      </div>
                                    </div>
    
                                  
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <h5 class="pb-2 border-bottom mb-4">Details</h5>
                        <div class="info-container">
                          <ul class="list-unstyled">
                            <li class="mb-3">
                              <span class="fw-bold me-2">Adhérent:</span>
                              <span>{{adherent}}</span>
                            </li>
                            <li class="mb-3">
                              <span class="fw-bold me-2">Sexe:</span>
                              <span>{{sexe}}</span>
                            </li>
                            <li class="mb-3">
                              <span class="fw-bold me-2"
                                >Date de naissance:</span
                              >
                              <span class="badge bg-label-success">{{dateDeNaissance}}</span>
                            </li>
                            <li class="mb-3">
                              <span class="fw-bold me-2"
                                >Gouvernorat de naissance:</span
                              >
                              <span>{{villeDeNaissance}}</span>
                            </li>
                            <li class="mb-3">
                              <span class="fw-bold me-2"
                                >Pays de naissance:</span
                              >
                              <span>Tunisie</span>
                            </li>
                            <li class="mb-3">
                              <span class="fw-bold me-2">CIN:</span>
                              <span>{{numCin}}</span>
                            </li>
                          </ul>
                        
                        </div>
                      </div>
                    </div>
                    <!-- /User Card -->
                    <!-- Plan Card -->

                    <!-- /Plan Card -->
                  </div>
                  <!--/ User Sidebar -->

                  <!-- User Content -->
                  <div class="col-xl-8 col-lg-7 col-md-7 order-0 order-md-1">
                    <!-- User Pills -->
                    <ul class="nav nav-pills flex-column flex-md-row mb-3">
                      
                     

                      <li class="nav-item">
                        <a
                          class="nav-link"
                          style="
                            background-color: green;
                            color: white;
                            cursor: pointer;
                          "
                          (click)="reload()"
                          ><i class="bx bx-repeat" style="color: #f3f3f3"></i>
                          Rechercher un autre adhérent</a
                        >
                      </li>
                    </ul>
                    <!--/ User Pills -->

                    <!-- Project table -->
                    <div class="card mb-4" *ngIf="role=='PHARMACIEN'">
                      <h5 class="card-header">Historique</h5>
                      <dx-data-grid
                      #grid2
                      id="gridContainerNonFacture"
                      [dataSource]="historiqueAdherent"
                      [remoteOperations]="false"
                      [allowColumnResizing]="true"
                      [allowColumnReordering]="true"
                      [rowAlternationEnabled]="true"
                      [showBorders]="true"
                      (onContentReady)="contentReady($event)"
                      [hoverStateEnabled]="true"
                      [selectedRowKeys]="[]"
                      (onRowDblClick)="onRowDoubleClick()"
                      (onSelectionChanged)="selectionChanged($event)"
                      [selection]="{
                        mode: 'single',
                        showCheckBoxesMode: 'always'
                      }"
                      [columnHidingEnabled]="false"
                    >
                      >

                      <dxo-header-filter [visible]="true"></dxo-header-filter>
                      <dxo-filter-panel [visible]="true"></dxo-filter-panel>
                      <dxo-paging [pageSize]="10"></dxo-paging>
                     
                    
                      <dxo-search-panel
                        [visible]="true"
                        [highlightCaseSensitive]="false"
                      ></dxo-search-panel>
                      <dxo-group-panel [visible]="true"></dxo-group-panel>
                      <dxo-grouping [autoExpandAll]="false"></dxo-grouping>
                      <dxo-selection mode="single"></dxo-selection>

                      <dxi-column
                        dataField="numTrans"
                        caption="N° CONSULTATION"
                      ></dxi-column>
                      <dxi-column
                        dataField="date"
                        caption="DATE FACTURATION"
                        dataType="string"
                        alignment="left"
                      ></dxi-column>

                      <dxi-column
                        dataField="nomAssure"
                        caption="NOM DE L'ASSURÉ"
                        dataType="string"
                       
                       
                      ></dxi-column>
                      <dxi-column
                        dataField="nomBenef"
                        caption="NOM DU BÉNÉFICIAIRE"
                        dataType="string"
                        
                      ></dxi-column>
                      <dxi-column
                        dataField="medecin"
                        caption="MEDECIN "
                        dataType="string"
                       
                      ></dxi-column>
                  
                   
                    </dx-data-grid>
                      <!-- pop up de montants-->
                    <dx-popup 
                  
                    [width]="700"
                    [height]="550"
                    [hideOnOutsideClick]="true"
                    [showCloseButton]="true"
                    [(visible)]="popupScrollViewVisible"
                   
                  >
                    <div *dxTemplate="let data of 'content'">
                      <dx-scroll-view width="100%" height="100%">
                        <div class="modal-content">
                          <form [formGroup]="addOrdonnancePharDialogForm" >
                          <div class="modal-body">
                            <div class="row">
                              <div class="col mb-3">
                               
                                <label
                                  for="nameBasic"
                                  class="form-label"
                                  >Total médicaments
                                  remboursables en TND
                                </label>
                                <input
                                  type="text"
                                  id="nameBasic"
                                  class="form-control"
                                  formControlName="totalMedRemboursable"
                                  placeholder=""
                                />
                              </div>
                            </div>
                            <div class="row">
                              <div class="col mb-0">
                                <label
                                  for="emailBasic"
                                  class="form-label"
                                  >Total médicaments non
                                  remboursables en
                                  TND</label
                                >
                                <input
                                  type="text"
                                  id="emailBasic"
                                  class="form-control"
                                  formControlName="totalMedNonRemboursable"
                                  placeholder=""
                                />
                              </div>
                              <div>
                                <button
                                  style="margin: 10px"
                                  type="button"
                                  class="btn btn-primary"
                                  (click)="calculer()"
                                >
                                  Calculer
                                </button>
                                <label
                                  for="emailBasic"
                                  class="form-label"
                                >
                                  Total Ordonnance en
                                  TND</label
                                >
                                <input
                                  type="text"
                                  id="emailBasic"
                                  class="form-control"
                                  readonly="true"
                                  formControlName="totalOrdonnance"
                                />
                              </div>
                              <div
                                class="row"
                                style="margin-top: 10px"
                              >
                                <div
                                  class="mb-3 col-12 mb-0"
                                >
                                  <div
                                    class="alert alert-warning"
                                  >
                                    <p class="mb-0">
                                      Vous êtes sur le
                                      point d'ajouter une
                                      ordonnace pour
                                      l'adhérent<br />
                                      {{ordonnace.nomAssure}} 
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </form>
                          <div class="modal-footer">
                           
                          <button
                          type="button"
                          class="btn  btn-outline-primary "
                         
                          (click)="OcrPopupVisivle()"
                        >
                          Importer une ordonnace
                        </button>
                        <!-- popup ocr-->
                        <dx-popup 
                  
                        [width]="500"
                        [height]="300"
                        [hideOnOutsideClick]="true"
                        [showCloseButton]="true"
                        [(visible)]="ocrPopup"
                       
                      >
                        <div *dxTemplate="let data of 'content'">
                          <dx-scroll-view width="100%" height="100%">
                            <div class="modal-content">
                              
                              <div class="modal-body">
                               
                                <form class="mb-3" (ngSubmit)="uploadFile()" enctype="multipart/form-data">
                                  <div class="input-group">
                                    <input type="file" class="form-control" name="file" accept=".pdf" (change)="onFileSelected($event)">
                                    <button type="submit" class="btn btn-primary" [disabled]="!selectedFile">Upload</button>
                                  </div>
                                </form>
                                
                                
                              
                              </div>
                          
                              <div class="modal-footer">
                               
                                <button
                                  type="button"
                                  class="btn btn-primary"

                                  (click)="OcrPopupHidden()"
                                >
                                  OK
                                </button>
                              </div>
                            </div>
                           
                          </dx-scroll-view>
                        </div>
                       
                      </dx-popup>
                           
                            <button
                              type="button"
                              class="btn btn-primary"
                              data-bs-toggle="modal"
                              data-bs-target="#modalCenter"
                              (click)="CloseMontantPopup()"
                            >
                              OK
                            </button>
                          </div>
                        </div>
                       
                      </dx-scroll-view>
                    </div>
                   
                  </dx-popup>
                      <div class="table-responsive mb-3">
                        <div
                          id="DataTables_Table_0_wrapper"
                          class="dataTables_wrapper dt-bootstrap5 no-footer"
                        >
                          <div class="card">
                            <div class="table-responsive text-nowrap" >
                             
                              <!-- ordonnace manuelle-->
                              <!-- #region -->
                              <div
                              class="modal fade"
                              id="modalCenterMED"
                              tabindex="-1"
                              style="display: none"
                              aria-hidden="true"
                            >
                              <div
                                class="modal-dialog modal-dialog-centered modal-xl"
                                role="document"
                              >
                                <div class="modal-content" *ngIf="role=='PHARMACIEN'" >
                                  <div class="modal-header">
                                    <h5
                                      class="modal-title"
                                      id="modalCenterTitle"
                                      style="
                                        color: red;
                                        text-align: center;
                                      "
                                    >
                                     
                                    </h5>
                                    <button
                                      type="button"
                                      class="btn-close"
                                      data-bs-dismiss="modal"
                                      aria-label="Close"
                                    ></button>
                                  </div>
                                  <div class="modal-body">
                                   
                                    <div id="data-grid-demo">
                                      <dx-data-grid
                                        id="gridContainer"
                                        [dataSource]="dataSource"
                                        keyExpr="ID"
                                        [showBorders]="false"
                                        [focusedRowEnabled]="true"
                                        [allowColumnResizing]="true"
                                      >
                                     
                                      <dxo-scrolling mode="virtual"></dxo-scrolling>
                                      
                                       
                                        <dxo-editing
                                          mode="batch"
                                          [allowUpdating]="true"
                                          [allowAdding]="true"
                                          [allowDeleting]="true"
                                          [selectTextOnEditStart]="selectTextOnEditStart"
                                          [startEditAction]="startEditAction"
                                        >
                                        </dxo-editing>
                                        <dxo-grouping [autoExpandAll]="false"></dxo-grouping>
                                        <dxo-master-detail [enabled]="true" template="detail"></dxo-master-detail>
                                        <dxi-column dataField="Prefix" caption="Date" dataType="date"></dxi-column>
                                        <dxi-column  dataField="FirstName" caption="Montant Dépensé" ></dxi-column>
                                        <dxi-column  dataField="LastName"caption="Montant Révisé" ></dxi-column>
                                      
                                        
                                     
                                       
                                        <div *dxTemplate="let order of 'detail'">
                                         <!--
                                      details
                                         -->
                                         <dx-data-grid
                                         id="gridContainer"
                                         [dataSource]="dataSource"
                                         keyExpr="ID"
                                         [showBorders]="true"
                                         [allowColumnResizing]="true"
                                       >
                                       <dxo-filter-row [visible]="true"></dxo-filter-row>
                                     
                                       <dxo-group-panel [visible]="true"></dxo-group-panel>
                                        
                                         <dxo-editing
                                           mode="batch"
                                           [allowUpdating]="true"
                                           [allowAdding]="true"
                                           [allowDeleting]="true"
                                           [selectTextOnEditStart]="selectTextOnEditStart"
                                           [startEditAction]="startEditAction"
                                         >
                                         </dxo-editing>
                                         <dxo-grouping [autoExpandAll]="false"></dxo-grouping>
                                         <dxi-column dataField="Prefix" caption="Designation"  width="200"></dxi-column>
                                         <dxi-column dataField="FirstName" caption="Durée (jours)" ></dxi-column>
                                         <dxi-column dataField="LastName" caption="Quantité" ></dxi-column>
                                         <dxi-column dataField="Position" caption="Prix Public"  ></dxi-column>
                                         <dxi-column dataField="StateID" caption="State" caption="Montant dépensé"  [width]="125">
                                          
                                         </dxi-column>
                                         <dxi-column dataField="BirthDate" caption="Remb Cnam"></dxi-column>
                                         <dxi-column dataField="BirthDate" caption="Remb. RC"></dxi-column>
                                         <dxo-paging [pageSize]="10"> </dxo-paging>
                                         <dxo-pager
                                           [visible]="true"
                                           [allowedPageSizes]="allowedPageSizes"
                                           [displayMode]="displayMode"
                                           [showPageSizeSelector]="showPageSizeSelector"
                                           [showInfo]="showInfo"
                                           [showNavigationButtons]="showNavButtons"
                                         >
                                         </dxo-pager>
                                       </dx-data-grid>
                                        </div>
                                      </dx-data-grid>
                                    
                                   
                                    </div>
                             
                                  </div>
                                  <div class="modal-footer">
                                    <button
                                      type="button"
                                      class="btn btn-outline-secondary"
                                      data-bs-dismiss="modal"
                                    >
                                      Annuler
                                    </button>
                                    <button
                                      type="button"
                                      class="btn btn-primary"
                                    >
                                      Confirmer
                                    </button>
                                  </div>
                                </div>
                               
                              </div>
                            </div>
                             <!-- confirmation de ordonnace ajout-->
                            <div
                                            class="modal fade"
                                            id="modalCenter"
                                            tabindex="-1"
                                            style="display: none"
                                            aria-hidden="true"
                                          >
                                            <div
                                              class="modal-dialog modal-dialog-centered"
                                              role="document"
                                            >
                                              <div class="modal-content">
                                                <div class="modal-header">
                                                  <h5
                                                    class="modal-title"
                                                    id="modalCenterTitle"
                                                    style="
                                                      color: red;
                                                      text-align: center;
                                                    "
                                                  >
                                                    Veuillez confirmer les
                                                    informations affichées!
                                                  </h5>
                                                  <button
                                                    type="button"
                                                    class="btn-close"
                                                    data-bs-dismiss="modal"
                                                    aria-label="Close"
                                                  ></button>
                                                </div>
                                                <div class="modal-body">
                                                  <div
                                                    class="table-responsive text-nowrap"
                                                  >
                                                    <table class="table">
                                                      <h5
                                                        style="
                                                          color: rgb(
                                                            118,
                                                            128,
                                                            235
                                                          );
                                                        "
                                                      >
                                                        Détails paiement
                                                      </h5>
                                                      <tbody
                                                        class="table-border-bottom-0"
                                                      >
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Montant Ticket
                                                              Moderateur:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.ticketModerateur}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Montant remboursé
                                                              par I-Way
                                                              Solutions:</strong
                                                            >
                                                          </td>
                                                          <td></td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Total médicaments
                                                              remboursables:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.totalMedRemb}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Total médicaments
                                                              non
                                                              remboursables:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.totalMedNonRemb}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Total
                                                              Ordonnance:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.totalOrdanance || ocrM}} </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                    <br />

                                                    <table class="table">
                                                      <h5
                                                        style="
                                                          color: rgb(
                                                            118,
                                                            128,
                                                            235
                                                          );
                                                        "
                                                      >
                                                        Données Adhérents
                                                      </h5>
                                                      <tbody
                                                        class="table-border-bottom-0"
                                                      >
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Contractant</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.numPolice}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Numero
                                                              contrat:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.numContrat}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Numèro de
                                                              consultation:</strong
                                                            >
                                                          </td>
                                                          <td></td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Matricule:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.matriculeAdherent}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Adhérent:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.nomAssure}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Bénéficiaire:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.nomBenef}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Qualité:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.qualite}}</td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                    <br />
                                                    <table class="table">
                                                      <h5
                                                        style="
                                                          color: rgb(
                                                            118,
                                                            128,
                                                            235
                                                          );
                                                        "
                                                      >
                                                        Données Prestataire de
                                                        soin
                                                      </h5>
                                                      <tbody
                                                        class="table-border-bottom-0"
                                                      >
                                                        <tr>
                                                          <td>
                                                            <strong>
                                                              Nom PS:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.nomMedecin}}</td>
                                                        </tr>
                                                        <tr>
                                                          <td>
                                                            <strong
                                                              >Mat
                                                              Fiscale:</strong
                                                            >
                                                          </td>
                                                          <td>{{ordonnace.idMedecin}}</td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                    <br />
                                                    <div class="row"></div>
                                                    <div
                                                      class="alert alert-danger"
                                                      role="alert"
                                                    >
                                                      La validation de la
                                                      présente prestation est
                                                      obligatoire pour réserver
                                                      <br />
                                                      le montant à rembourser
                                                      par I-Way Solutions pour
                                                      vote faveur.
                                                    </div>
                                                    <div
                                                      class="alert alert-danger"
                                                      role="alert"
                                                    >
                                                      Toute prestation non
                                                      impute et validée
                                                      moyennant l'extranet ne
                                                      sera pas<br />
                                                      remboursée par I-Way
                                                      Solutions.
                                                    </div>
                                                    <div
                                                      class="alert alert-danger"
                                                      role="alert"
                                                    >
                                                      Cette transaction dot
                                                      faire l'objet d'une
                                                      facturation et adressée
                                                      <br />
                                                      à I-Way Solutions au plus
                                                      tard le cinguième jour du
                                                      mois prochain <br />
                                                      accompagné par les talents
                                                      signés par les adhérents.
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="modal-footer">
                                                  <button
                                                    type="button"
                                                    class="btn btn-outline-secondary"
                                                    data-bs-dismiss="modal"
                                                  >
                                                    Annuler
                                                  </button>
                                                  <button
                                                    type="button"
                                                    class="btn btn-primary"
                                                    data-bs-dismiss="modal"
                                                    (click)="onSubmited()"
                                                  >
                                                    Confirmer
                                                  </button>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="card mb-4" *ngIf="role=='OPTICIEN'">
                      <h5 class="card-header">Historique</h5>
                      <dx-data-grid
id="grid"
[dataSource]="dataSource2"
[repaintChangesOnly]="true"
[showBorders]="true"
[rowAlternationEnabled]="true"
[hoverStateEnabled]="true"
[columnHidingEnabled]="true"
>
<dxo-search-panel
[visible]="true"
[highlightCaseSensitive]="false"
></dxo-search-panel>
 <dxo-group-panel [visible]="true"></dxo-group-panel>
 <dxo-grouping [autoExpandAll]="false"></dxo-grouping>
<dxo-scrolling mode="virtual"></dxo-scrolling>
<dxo-editing
  mode="popup"
  [refreshMode]="refreshMode"
  [allowAdding]="true"
  
  [allowDeleting]="true"
>
  <dxo-popup
    title="Details"
    [showTitle]="true"
    [width]="700"
    [height]="525"
  >
  </dxo-popup>
  <dxo-form class="form-container">
    <dxi-item itemType="group" [colCount]="3" [colSpan]="2">
      <dxi-item dataField="date" class="form-item">
        <dxi-validation-rule type="required"></dxi-validation-rule>
       
      </dxi-item>
      
      <dxi-item dataField="type" caption="Type" class="form-item">
        <div class="lookup-container">
          <select class="lookup-select" [(ngModel)]="selectedValue" name="type" required>
            <option value="" disabled selected hidden>- Choisissez -</option>
            <option *ngFor="let item of lookupData" [value]="item.id">{{ item.name }}</option>
          </select>
          <dxi-validation-rule type="required" message="Type is required"></dxi-validation-rule>
        </div>
      </dxi-item>
      
      
      <dxi-item dataField="mntDepense" class="form-item">
        <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-item>
      <dxi-item dataField="mntRevise" class="form-item">
        <dxi-validation-rule type="required"></dxi-validation-rule>
       
      </dxi-item>
      <dxi-item dataField="decompteRO" class="form-item">
        <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-item>
    
      
      
    </dxi-item>
 

   <!-- caracteriqtque-->
    <dxi-item
      itemType="group"
      caption="Caractéristiques"
      [colCount]="2"
      [colSpan]="2"
      [visible]="!isQteHidden()"
    
    >
    <dxi-item
    dataField="qte"
    caption="Qte"
    class="form-item"
    [hidden]="isQteHidden()"
  >
    <div class="lookup-container">
      <select
        class="lookup-select"
        [(ngModel)]="selectedValueQte"
      >
      <option value="" disabled selected hidden>
        - Choisissez -
      </option>
        <option
          *ngFor="let item of lookupDataQte"
          [value]="item.id"
        >
          {{ item.name }}
        </option>
      </select>
    </div>
  </dxi-item>
    <dxi-item
    dataField="ogod"
   
    class="form-item"
    [hidden]="isODOGHidden()"
  >
    <div class="lookup-container">
      <select
        class="lookup-select"
        [(ngModel)]="selectedValueGD"
      >
      <option value="" disabled selected hidden>
        - Choisissez -
      </option>
        <option
          *ngFor="let item of lookupDataGD"
          [value]="item.id"
        >
          {{ item.name }}
        </option>
      </select>
    </div>
  </dxi-item>
 
  <dxi-item
  dataField="nature"
  caption="Nature"
  class="form-item"
  [hidden]="isNatureHidden()"
>
  <div class="lookup-container">
    <select
      class="lookup-select"
      [(ngModel)]="selectedValueNature"
    >
      <option value="" disabled selected hidden>
        - Choisissez -
      </option>
      <option
        *ngFor="let item of lookupDataNature"
        [value]="item.id"
      >
        {{ item.name }}
      </option>
    </select>
  </div>
</dxi-item>

    </dxi-item>
  <!-- infor principales-->
    <dxi-item
    itemType="group"
    caption="Informations Principales"
    [colCount]="2"
    [colSpan]="2"
    [visible]=" !isNatureHidden()"
  >
  <dxi-item itemType="group" caption="Vision de loin OG" [visible]="isLoinGHidden()" [colCount]="3">

    <dxi-item caption="Sphère" dataField="logs" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="logs" />
      </div>
    </dxi-item>
    
  <dxi-item caption="Sphère" dataField="logc" class="form-item" [colSpan]="1">
  <div class="lookup-container">
    <input type="text" class="lookup-select" [(ngModel)]="logc" />
  </div>
</dxi-item>

<dxi-item caption="Sphère" dataField="loga" class="form-item" [colSpan]="1">
  <div class="lookup-container">
    <input type="text" class="lookup-select" [(ngModel)]="loga" />
  </div>
</dxi-item>

  </dxi-item>

  <dxi-item itemType="group" caption="Vision de loin OD" [visible]="isLoinDHidden()" [colCount]="3">
    <dxi-item caption="Sphère" dataField="lods" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="lods" />
      </div>
    </dxi-item>
    <dxi-item caption="Sphère" dataField="lodc" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="lodc" />
      </div>
    </dxi-item>
    <dxi-item caption="Sphère" dataField="loda" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="loda" />
      </div>
    </dxi-item>
  </dxi-item>
  <dxi-item itemType="group" caption="Vision de prés OD" [visible]="isPresDVisible()" [colCount]="3">

    <dxi-item caption="Sphère" dataField="pods" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="pods" />
      </div>
    </dxi-item>
    <dxi-item caption="Sphère" dataField="podc" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="podc" />
      </div>
    </dxi-item>
    <dxi-item caption="Sphère" dataField="poda" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="poda" />
      </div>
    </dxi-item>
  </dxi-item>
  <dxi-item itemType="group" caption="Vision de prés OG" [visible]="isPresGVIsible()" [colCount]="3">
    <dxi-item caption="Sphère" dataField="pogs" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="pogs" />
      </div>
    </dxi-item>
    <dxi-item caption="Sphère" dataField="pogc" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="pogc" />
      </div>
    </dxi-item>
    <dxi-item caption="Sphère" dataField="poga" class="form-item" [colSpan]="1">
      <div class="lookup-container">
        <input type="text" class="lookup-select" [(ngModel)]="poga" />
      </div>
    </dxi-item>
  </dxi-item>

  </dxi-item>
  <!-- info supplememntaires-->
  <dxi-item
  itemType="group"
  caption="Informations supplémentaires"
  [colCount]="2"
  [colSpan]="2"
  [visible]=" !isNatureHidden()"
>
<div class="form-row">
  <div class="form-group col-md-3">
    <label><b>Ecart populaire</b></label>
  </div>
  <div class="form-group col-md-3">
    <label>Binoculaire</label>
    <input type="checkbox" [checked]="EcartBox === 1" (change)="checkboxChanged(1)">
  </div>
  <div class="form-group col-md-3">
    <label>Monoculaire</label>
    <input type="checkbox" [checked]="EcartBox === 2" (change)="checkboxChanged(2)">
  </div>
  
</div>


<div class="form-row">
  <div class="form-group col-md-3">
    <label><b>Nature des verres</b></label>
  </div>
  <div class="form-group col-md-3">
    <label>Minéral</label>
    <input type="checkbox"[checked]="natureBox === 1" (change)="natureboxChanged(1)">
  </div>
  <div class="form-group col-md-3">
    <label>Organique</label>
    <input type="checkbox" [checked]="natureBox === 2" (change)="natureboxChanged(2)">
  </div>
  
</div>


<div class="form-row">
  <div class="form-group col-md-2">
    <label><b>Type des verres</b></label>
  </div>
  <div class="form-group col-md-2">
    <label>Simple</label>
    <input type="checkbox" [checked]="typeBox === 1" (change)="typeboxChanged(1)">
  </div>
  <div class="form-group col-md-2">
    <label>Bifocaux</label>
    <input type="checkbox" [checked]="typeBox === 2" (change)="typeboxChanged(2)">
  </div>
  <div class="form-group col-md-2">
    <label>Demi-lune</label>
    <input type="checkbox"[checked]="typeBox === 3" (change)="typeboxChanged(3)">
  </div>
  <div class="form-group col-md-2">
    <label>Varilux</label>
    <input type="checkbox"[checked]="typeBox === 4" (change)="typeboxChanged(4)">
  </div>
  
</div>


<div class="form-row">
  <div class="form-group col-md-3">
    <label><b>Coloration des verres</b></label>
  </div>
  <div class="form-group col-md-3">
    <label>Teinté</label>
    <input type="checkbox" [checked]="colorBox === 1" (change)="colorboxChanged(1)">
  </div>
  <div class="form-group col-md-3">
    <label>Photochromique</label>
    <input type="checkbox" [checked]="colorBox === 2" (change)="colorboxChanged(2)">
  </div>
  <div class="form-group col-md-3">
    <label>Blanc</label>
    <input type="checkbox"[checked]="colorBox === 3" (change)="colorboxChanged(3)">
  </div>
  
</div>

<div class="form-row">
  <div class="form-group col-md-3">
    <label><b>Traitement des verres</b></label>
  </div>
  <div class="form-group col-md-3">
    <label>U.V & X</label>
    <input type="checkbox" [checked]="traitementBox === 1" (change)="traitboxChanged(1)">
  </div>
  <div class="form-group col-md-3">
    <label>Anti griffe</label>
    <input type="checkbox" [checked]="traitementBox === 2" (change)="traitboxChanged(2)">
  </div>
 
  
</div>

<div class="form-row">
  <div class="form-group col-md-2">
    <label><b>Verres spéciaux</b></label>
  </div>
  <div class="form-group col-md-2">
    <label>Sphero</label>
    <input type="checkbox" [checked]="specialBox === 1" (change)="specialboxChanged(1)">
  </div>
  <div class="form-group col-md-2">
    <label>Omega</label>
    <input type="checkbox" [checked]="specialBox === 2" (change)="specialboxChanged(2)">
  </div>
  <div class="form-group col-md-2">
    <label>Hypéral</label>
    <input type="checkbox" [checked]="specialBox === 3" (change)="specialboxChanged(3)">
  </div>
  <div class="form-group col-md-2">
    <label>Precal</label>
    <input type="checkbox"[checked]="specialBox === 4" (change)="specialboxChanged(4)">
  </div>
 
  
</div>


  </dxi-item>

  </dxo-form>
</dxo-editing>

<dxi-column dataField="date" dataType="date"></dxi-column>
<dxi-column dataField="matriculeAdherent"></dxi-column>
<dxi-column caption="Type" dataField="type"></dxi-column>
<dxi-column dataField="mntDepense"></dxi-column>
<dxi-column dataField="mntRevise"></dxi-column>
<dxi-column dataField="decompteRO"></dxi-column>
<dxi-column dataField="qte" [hidingPriority]="2"></dxi-column>
<dxi-column dataField="ogod"></dxi-column>
<dxi-column dataField="nature" [hidingPriority]="3"></dxi-column>
<dxi-column dataField="ecart" [hidingPriority]="4"></dxi-column>
<dxi-column dataField="natureVerres" [hidingPriority]="5"></dxi-column>
<dxi-column dataField="typesVerres" [width]="20" [hidingPriority]="6"></dxi-column>
<dxi-column dataField="colorverres" [width]="20" [hidingPriority]="7"></dxi-column>
<dxi-column dataField="traitementVerres" [width]="20" [hidingPriority]="8"></dxi-column>
<dxi-column dataField="verresSpec" [hidingPriority]="1"></dxi-column>

</dx-data-grid>

<div class="options">

<div id="requests">
  <div>
    <div class="caption">Network Requests</div>
    <dx-button id="clear" text="Clear" (onClick)="clearRequests()">
    </dx-button>
  </div>
  <ul>
    <li *ngFor="let request of requests">{{ request }}</li>
  </ul>
</div>

</div>
                    </div>
                    <!-- /Project table -->

                    <!-- Activity Timeline -->

                    <!-- /Activity Timeline -->

                    <!-- Invoice table -->

                    <!-- /Invoice table -->
                  </div>

                  <!--/ User Content -->
                </div>
              </div>
            </div>
            <!-- / Content -->

            <!-- Footer -->
            <app-footer></app-footer>
            <!-- / Footer -->

            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>
    </div>
    <!-- / Layout wrapper -->

    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->
    <script src="/assets/vendor/libs/jquery/jquery.js"></script>
    <script src="/assets/vendor/libs/popper/popper.js"></script>
    <script src="/assets/vendor/js/bootstrap.js"></script>
    <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>

    <script src="/assets/vendor/js/menu.js"></script>
    <!-- endbuild -->

    <!-- Vendors JS -->

    <!-- Main JS -->
    <script src="/assets/js/main.js"></script>

    <!-- Page JS -->

    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </body>
</html>
